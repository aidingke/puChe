webpackJsonp([10],{179:function(a,e,t){function n(a){t(228)}var l=t(16)(t(196),t(241),n,"data-v-24ab43ea",null);a.exports=l.exports},196:function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"auctionManage",data:function(){return{isShow:!0,isTabHide:!1,total:0,activeTab:"0",act:"finished",repetition:null,timePlay:null,tableData:[],searchData:{pageNo:1,pageSize:10}}},created:function(){if(this.$store.state.breadcrumb=[{path:"/",name:"捕车平台"},{name:"竞拍管理"}],this.$route.query.type){var a=this.$route.query.type;this.activeTab=a,this.act="0"===a?"finished":"1"===a?"started":"2"===a?"noStart":"noArrange"}this.request()},destroyed:function(){clearInterval(this.timePlay),clearTimeout(this.repetition)},methods:{lookDetail:function(a){location.hash="#/carPlatform/auctionManageDetail?id="+a+"&type="+(this.$route.query.type||0)},currentChange:function(a){this.searchData.pageNo=a,this.request()},handleClick:function(a,e){var t=this;t.isTabHide=!0,t.searchData.pageNo=1,t.act="0"===a.index?"finished":"1"===a.index?"started":"2"===a.index?"noStart":"noArrange",t.request(),location.hash="#/carPlatform/auctionManage?type="+a.index},request:function(a){var e=this;clearInterval(e.timePlay),clearTimeout(e.repetition),e.$c.ajax({loading:!a||"",url:"buche/api/manage/auction",data:{reqAct:e.act,pageNo:e.searchData.pageNo,pageSize:e.searchData.pageSize},success:function(a){if(e.isShow=!0,e.isTabHide=!1,"0"===a.retCode){var t=[];a.result.carList.forEach(function(a){var n={id:a.id,carNo:a.carNo,auctionId:a.auctionId,source:a.source,brand:a.brand.replace(/其他/g,""),price:e.$c.setMoney(a.price),userName:a.userName,startTime:a.startTime,endTime:a.endTime,endTimeValInit:a.endTimeVal,endTimeVal:e.formatEndTime(a.endTimeVal)};t.push(n)}),e.total=a.result.totalCnt,e.tableData=t,"started"===e.act&&e.repetitionGet()}else e.$message.error({duration:1500,message:a.retMsg})}})},formatEndTime:function(a){var e=parseInt(a/864e5),t=a%864e5,n=parseInt(t/36e5),l=t%36e5,r=parseInt(l/6e4),i=l%6e4,o=i/1e3;return e+"天  "+(n<10?"0"+n:n)+":"+(r<10?"0"+r:r)+":"+(o<10?"0"+o:o)},repetitionGet:function(){var a=this;a.timePlay=setInterval(function(){if(!("started"===a.act&&location.hash.indexOf("/auctionManage?")>-1))return clearInterval(a.timePlay),clearTimeout(a.repetition),!1;a.tableData.forEach(function(e){e.endTimeValInit>0?(e.endTimeValInit=e.endTimeValInit-1e3,a.$set(e,"endTimeVal",a.formatEndTime(e.endTimeValInit))):a.request(!0)})},1e3),a.repetition=setTimeout(function(){"started"===a.act&&location.hash.indexOf("/auctionManage?")>-1&&a.request(!0)},1e4)}}}},214:function(a,e,t){e=a.exports=t(177)(!0),e.push([a.i,".auctionManage .searchBar[data-v-24ab43ea]{margin-bottom:20px}.auctionManage .searchBar .el-col[data-v-24ab43ea]{margin-right:10px}.auctionManage .searchBar button[data-v-24ab43ea]{margin-top:4px}.auctionManage .isTabHide[data-v-24ab43ea]{opacity:0}","",{version:3,sources:["E:/project/buche/src/pages/carPlatform/auctionManage.vue"],names:[],mappings:"AACA,2CACE,kBAAoB,CACrB,AACD,mDACE,iBAAmB,CACpB,AACD,kDACE,cAAgB,CACjB,AACD,2CACE,SAAW,CACZ",file:"auctionManage.vue",sourcesContent:["\n.auctionManage .searchBar[data-v-24ab43ea] {\n  margin-bottom: 20px;\n}\n.auctionManage .searchBar .el-col[data-v-24ab43ea] {\n  margin-right: 10px;\n}\n.auctionManage .searchBar button[data-v-24ab43ea] {\n  margin-top: 4px;\n}\n.auctionManage .isTabHide[data-v-24ab43ea] {\n  opacity: 0;\n}\n"],sourceRoot:""}])},228:function(a,e,t){var n=t(214);"string"==typeof n&&(n=[[a.i,n,""]]),n.locals&&(a.exports=n.locals);t(178)("6d73f982",n,!0)},241:function(a,e){a.exports={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return a.isShow?t("div",{staticClass:"auctionManage"},[t("el-tabs",{attrs:{type:"card"},on:{"tab-click":a.handleClick},model:{value:a.activeTab,callback:function(e){a.activeTab=e},expression:"activeTab"}},[t("el-tab-pane",{attrs:{label:"竞拍结束",name:"0"}},[t("el-table",{class:{isTabHide:a.isTabHide},staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:a.tableData,border:""}},[t("el-table-column",{attrs:{prop:"carNo",label:"车源编号"}}),a._v(" "),t("el-table-column",{attrs:{prop:"source",label:"车辆来源"}}),a._v(" "),t("el-table-column",{attrs:{prop:"brand",label:"品牌型号"}}),a._v(" "),t("el-table-column",{attrs:{prop:"price",label:"最终价格(万元)"}}),a._v(" "),t("el-table-column",{attrs:{prop:"userName",label:"竞得商家"}}),a._v(" "),t("el-table-column",{attrs:{prop:"endTime",label:"结束时间"}}),a._v(" "),t("el-table-column",{attrs:{label:"操作"},scopedSlots:a._u([{key:"default",fn:function(e){return[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){a.lookDetail(a.tableData[e.$index].auctionId)}}},[a._v("查看")])]}}])})],1)],1),a._v(" "),t("el-tab-pane",{attrs:{label:"竞拍中",name:"1"}},[t("el-table",{class:{isTabHide:a.isTabHide},staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:a.tableData,border:""}},[t("el-table-column",{attrs:{prop:"carNo",label:"车源编号"}}),a._v(" "),t("el-table-column",{attrs:{prop:"source",label:"车辆来源"}}),a._v(" "),t("el-table-column",{attrs:{prop:"brand",label:"品牌型号"}}),a._v(" "),t("el-table-column",{attrs:{prop:"price",label:"当前价格(万元)"}}),a._v(" "),t("el-table-column",{attrs:{prop:"userName",label:"出价商家"}}),a._v(" "),t("el-table-column",{attrs:{prop:"endTimeVal",label:"剩余时间"}}),a._v(" "),t("el-table-column",{attrs:{label:"操作"},scopedSlots:a._u([{key:"default",fn:function(e){return[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){a.lookDetail(a.tableData[e.$index].auctionId)}}},[a._v("查看")])]}}])})],1)],1),a._v(" "),t("el-tab-pane",{attrs:{label:"待开拍",name:"2"}},[t("el-table",{class:{isTabHide:a.isTabHide},staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:a.tableData,border:""}},[t("el-table-column",{attrs:{prop:"carNo",label:"车源编号"}}),a._v(" "),t("el-table-column",{attrs:{prop:"source",label:"车辆来源"}}),a._v(" "),t("el-table-column",{attrs:{prop:"brand",label:"品牌型号"}}),a._v(" "),t("el-table-column",{attrs:{prop:"price",label:"起拍价格(万元)"}}),a._v(" "),t("el-table-column",{attrs:{prop:"startTime",label:"开拍时间"}}),a._v(" "),t("el-table-column",{attrs:{label:"操作"},scopedSlots:a._u([{key:"default",fn:function(e){return[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){a.lookDetail(a.tableData[e.$index].auctionId)}}},[a._v("查看")])]}}])})],1)],1),a._v(" "),t("el-tab-pane",{attrs:{label:"未安排",name:"3"}},[t("el-table",{class:{isTabHide:a.isTabHide},staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:a.tableData,border:""}},[t("el-table-column",{attrs:{prop:"carNo",label:"车源编号"}}),a._v(" "),t("el-table-column",{attrs:{prop:"source",label:"车辆来源"}}),a._v(" "),t("el-table-column",{attrs:{prop:"brand",label:"品牌型号"}}),a._v(" "),t("el-table-column",{attrs:{prop:"price",label:"起拍价格(万元)"}}),a._v(" "),t("el-table-column",{attrs:{label:"操作"},scopedSlots:a._u([{key:"default",fn:function(e){return[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){a.lookDetail(a.tableData[e.$index].id)}}},[a._v("设置")])]}}])})],1)],1),a._v(" "),a.total>a.searchData.pageSize?t("el-pagination",{class:{isTabHide:a.isTabHide},attrs:{background:"",layout:"prev, pager, next",total:a.total},on:{"current-change":a.currentChange}}):a._e()],1)],1):a._e()},staticRenderFns:[]}}});
//# sourceMappingURL=10.76d01d114f32cc16ff32.js.map